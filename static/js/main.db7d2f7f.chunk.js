(this["webpackJsonpbottle-detector"]=this["webpackJsonpbottle-detector"]||[]).push([[0],{23:function(e,n,t){e.exports=t(41)},28:function(e,n,t){},34:function(e,n){},35:function(e,n){},36:function(e,n){},37:function(e,n){},38:function(e,n){},39:function(e,n){},41:function(e,n,t){"use strict";t.r(n);var r=t(1),i=t.n(r),a=t(12),o=t.n(a),c=(t(28),t(13)),u=t(14),f=t(20),l=t(15),d=t(21),s=t(2),m=t(3),v=(t(42),t(16));function h(){var e=Object(s.a)(["\n  background: rgba(255, 255, 255, 0.8);\n  max-width: 60vw;\n  font-weight: bold;\n  border-radius: 15px;\n  text-align: center;\n  padding: 0.5rem;\n"]);return h=function(){return e},e}function g(){var e=Object(s.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  position: fixed;\n  z-index: 2;\n  bottom: 2rem;\n"]);return g=function(){return e},e}function b(){var e=Object(s.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n"]);return b=function(){return e},e}function p(){var e=Object(s.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100%;\n"]);return p=function(){return e},e}function w(){var e=Object(s.a)(["\n  height: 100%;\n  overflow: hidden;\n  width: 100%;\n"]);return w=function(){return e},e}function x(){var e=Object(s.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: flex-start;\n  padding: 1rem 1rem;\n  position: fixed;\n  z-index: 2;\n  align-items: center;\n"]);return x=function(){return e},e}function j(){var e=Object(s.a)(["\n  height: 80px;\n  width: 80px;\n  margin-right: 0.7rem;\n"]);return j=function(){return e},e}function k(){var e=Object(s.a)(["\n  display: flex;\n  background: rgba(255, 255, 255, 0.8);\n  max-width: 50vw;\n  height: 50px;\n  font-weight: bold;\n  border-radius: 15px;\n  text-align: center;\n  align-items: center;\n"]);return k=function(){return e},e}var y=m.a.div(k()),E=m.a.img(j()),O=m.a.div(x()),R=m.a.div(w()),P=m.a.video(p()),B=m.a.canvas(b()),D=m.a.div(g()),F=m.a.div(h()),M=function(e){function n(){var e,t;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(f.a)(this,(e=Object(l.a)(n)).call.apply(e,[this].concat(a)))).videoRef=i.a.createRef(),t.canvasRef=i.a.createRef(),t.detectFrame=function(e,n){n.detect(e,{score:.917,iou:.5,topk:1}).then((function(r){t.renderPredictions(r),requestAnimationFrame((function(){t.detectFrame(e,n)}))}))},t.renderPredictions=function(e){var n=t.canvasRef.current.getContext("2d");n.clearRect(0,0,n.canvas.width,n.canvas.height);var r="16px sans-serif";n.font=r,n.textBaseline="top",e.forEach((function(e){var t=e.box.left,i=e.box.top,a=e.box.width,o=e.box.height;n.strokeStyle="#326B33",n.lineWidth=4,n.strokeRect(t,i,a,o),n.fillStyle="#326B33";var c=n.measureText("Kamuflert flaske").width,u=parseInt(r,10);n.fillRect(t,i,c+4,u+4)})),e.forEach((function(e){var t=e.box.left,r=e.box.top;n.fillStyle="#000000",n.fillText("Kamuflert flaske",t,r)}))},t}return Object(d.a)(n,e),Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){var n=navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"environment"}}).then((function(n){return window.stream=n,e.videoRef.current.srcObject=n,new Promise((function(n,t){e.videoRef.current.onloadedmetadata=function(){n()}}))})),t=v.a("edge_best_tradeoff/model.json");Promise.all([t,n]).then((function(n){e.detectFrame(e.videoRef.current,n[0])})).catch((function(e){console.error(e)}))}}},{key:"render",value:function(){var e=window.innerHeight,n=window.innerWidth;return i.a.createElement("div",null,i.a.createElement(O,null,i.a.createElement(E,{src:"army_emoji3.png"}),i.a.createElement(y,null,"Jeg har milit\xe6rbakgrunn!")),i.a.createElement(R,null,i.a.createElement(P,{autoPlay:!0,playsInline:!0,muted:!0,ref:this.videoRef})),i.a.createElement(B,{ref:this.canvasRef,width:n,height:e}),i.a.createElement(D,null,i.a.createElement(F,null,"Pek meg rundt omkring, og jeg vil finne flasken for deg",i.a.createElement("span",{role:"img","aria-label":"nerd emoji"},"\ud83e\udd13"))))}}]),n}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[23,1,2]]]);
//# sourceMappingURL=main.db7d2f7f.chunk.js.map